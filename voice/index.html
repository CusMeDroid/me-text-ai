<!DOCTYPE html>
<html>
   <head>
   <meta charset='UTF-8'>
   <meta name='viewport' content='width=device-width, initial-scale=1'>
   <title>Me Text AI - Voice</title>
   <meta name='description' content='Me Text AI adalah kepintaran buatan untuk membantu memudahkan manusia agar dapat menulis teks dari gambar maupun suara.'>
   <meta name='keywords' content='cusmedroid, cusme, iyortml, suryodwijayanto, metextai, me-text-ai'/>
   <meta name='author' content='Me Text AI'>
   <link rel='stylesheet' type='text/css' href='../camera/css/main.css'>
   <link rel='stylesheet' href='https://cusmedroid.github.io/fontawesome-4/css/font-awesome.min.css'>
   </head>
   <body id="myCopyright">
      <div id="voicerap">
         <p id="action"></p>
         <button onclick="runSpeechRecog()" id="vbtn"><i class="fa fa-microphone" aria-hidden="true"></i></button>
      </div>
      <div id="vbrow">
         <h1 id="output" class="hide"></h1>
         <center style="padding: 8px;">
            <div class="close" onclick="vClose()"><i class="fa fa-times" aria-hidden="true"></i></div>
         </center>
      </div>
      <script>
         var mVoLay = document.getElementById('voicerap');
         var mVoBrow = document.getElementById('vbrow');
         runSpeechRecog = () => {
               document.getElementById("output").innerHTML = "Memuat Teks...";
               var output = document.getElementById('output');
               var action = document.getElementById('action');
               let recognization = new webkitSpeechRecognition();
               recognization.onstart = () => {
               action.innerHTML = "Mendengarkan...";
            }
            recognization.onresult = (e) => {
               mVoLay.style.display = "none";
               mVoBrow.style.display = "block";
               var transcript = e.results[0][0].transcript;
               output.innerHTML = transcript;
               output.classList.remove("hide")
               action.innerHTML = "";
            }
            recognization.start();
         }
         function vClose() {  
            mVoLay.style.display = "block";
            mVoBrow.style.display = "none";
         }
      </script>
      <script src="https://cusmedroid.github.io/js/disclaimer.js"></script>
   </body>
</html>
